<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MapControl: PropertiesForm.cs Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Packages</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a></div>
<h1>PropertiesForm.cs</h1><a href="PropertiesForm_8cs.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="keyword">using</span> System;
00002 <span class="keyword">using</span> System.Drawing;
00003 <span class="keyword">using</span> System.Collections;
00004 <span class="keyword">using</span> System.ComponentModel;
00005 <span class="keyword">using</span> System.Windows.Forms;
00006 <span class="keyword">using</span> ShapeDotNet.GIS;
00007 
00008 <span class="keyword">namespace </span>ExampleApplication
00009 {
<a name="l00013"></a><a class="code" href="classExampleApplication_1_1PropertiesForm.html">00013</a>     <span class="keyword">public</span> <span class="keyword">class </span><a class="code" href="classExampleApplication_1_1PropertiesForm.html">PropertiesForm</a> : System.Windows.Forms.Form
00014     {
00015         IMapLayer _ml;
00016         Color _foreColor;
00017         Color _fillColor;
00018         <span class="keywordtype">int</span> _featureAlpha;
00019         SolidBrush _fillBrush;
00020         <span class="keywordtype">float</span> _penWidth;
00021         
00022         Font _labelFont;
00023         Color _labelForeColor;
00024         Color _labelFillColor;
00025         <span class="keywordtype">int</span> _labelAlpha;
00026 
00027         <span class="keyword">private</span> System.Windows.Forms.ColorDialog colorDialog;
00028         <span class="keyword">private</span> System.Windows.Forms.Button okButton;
00029         <span class="keyword">private</span> System.Windows.Forms.Button cancelButton;
00030         <span class="keyword">private</span> System.Windows.Forms.GroupBox groupBox1;
00031         <span class="keyword">private</span> System.Windows.Forms.GroupBox groupBox2;
00032         <span class="keyword">private</span> System.Windows.Forms.NumericUpDown lineWidthUpDown;
00033         <span class="keyword">private</span> System.Windows.Forms.Label label1;
00034         <span class="keyword">private</span> System.Windows.Forms.Button fillColorButton;
00035         <span class="keyword">private</span> System.Windows.Forms.Button foreColorButton;
00036         <span class="keyword">private</span> System.Windows.Forms.GroupBox groupBox3;
00037         <span class="keyword">private</span> System.Windows.Forms.CheckBox showLabelsCheckBox;
00038         <span class="keyword">private</span> System.Windows.Forms.ComboBox labelSourceComboBox;
00039         <span class="keyword">private</span> System.Windows.Forms.Label FilenameLabel;
00040         <span class="keyword">private</span> System.Windows.Forms.Button labelFontButton;
00041         <span class="keyword">private</span> System.Windows.Forms.FontDialog fontDialog;
00042         <span class="keyword">private</span> System.Windows.Forms.Label label2;
00043         <span class="keyword">private</span> System.Windows.Forms.Label label3;
00044         <span class="keyword">private</span> System.Windows.Forms.TrackBar featureOpacityTrackBar;
00045         <span class="keyword">private</span> System.Windows.Forms.TrackBar fontOpacityTrackBar;
00046         <span class="keyword">private</span> System.Windows.Forms.CheckBox showLabelsBGCheckBox;
00047         <span class="keyword">private</span> System.Windows.Forms.Button labelFillColorButton;
00048         <span class="keyword">private</span> System.Windows.Forms.Button labelForeColorButton;
00049         
00053         <span class="keyword">private</span> System.ComponentModel.Container components = null;
00054 
<a name="l00055"></a><a class="code" href="classExampleApplication_1_1PropertiesForm.html#ExampleApplication_1_1PropertiesForma0">00055</a>         <span class="keyword">public</span> <a class="code" href="classExampleApplication_1_1PropertiesForm.html#ExampleApplication_1_1PropertiesForma0">PropertiesForm</a>( IMapLayer ml )
00056         {
00057             <span class="comment">//</span>
00058             <span class="comment">// Required for Windows Form Designer support</span>
00059             <span class="comment">//</span>
00060             InitializeComponent();
00061 
00062             <span class="comment">//</span>
00063             <span class="comment">// TODO: Add any constructor code after InitializeComponent call</span>
00064             <span class="comment">//</span>
00065             FilenameLabel.Text = ml.ToString();
00066 
00067             _ml = ml;
00068             _foreColor = ml.LayerPen.Color;
00069             _fillColor = ml.LayerBrush.Color;
00070             _featureAlpha = ml.LayerPen.Color.A;
00071             _penWidth = ml.LayerPen.Width;
00072             _labelFont = _ml.LabelFont;
00073             _labelForeColor = _ml.LabelForeColor;
00074             _labelFillColor = _ml.LabelFillColor;
00075             _labelAlpha = ml.LabelForeColor.A;
00076 
00077             showLabelsCheckBox.Checked = _ml.Labels;
00078             showLabelsBGCheckBox.Checked = _ml.LabelBackground;
00079             labelSourceComboBox.Items.AddRange( _ml.FieldNames );
00080             labelSourceComboBox.SelectedIndex = _ml.LabelSourceField;
00081             labelFontButton.Font = _ml.LabelFont;
00082             featureOpacityTrackBar.Enabled = <span class="keyword">false</span>;
00083             featureOpacityTrackBar.Value = _featureAlpha;
00084             featureOpacityTrackBar.Enabled = <span class="keyword">true</span>;
00085             fontOpacityTrackBar.Enabled = <span class="keyword">false</span>;
00086             fontOpacityTrackBar.Value = _labelAlpha;
00087             fontOpacityTrackBar.Enabled = <span class="keyword">true</span>;
00088             
00089             Bitmap foreColorImg = <span class="keyword">new</span> Bitmap( 35, 24 );
00090             Bitmap fillColorImg = <span class="keyword">new</span> Bitmap( 35, 24 );
00091             Bitmap labelForeColorImg = <span class="keyword">new</span> Bitmap( 35, 24 );
00092             Bitmap labelFillColorImg = <span class="keyword">new</span> Bitmap( 35, 24 );
00093 
00094             Graphics foreGr = Graphics.FromImage( foreColorImg );
00095             Graphics fillGr = Graphics.FromImage( fillColorImg );
00096             Graphics labelForeGr = Graphics.FromImage( labelForeColorImg );
00097             Graphics labelFillGr = Graphics.FromImage( labelFillColorImg );
00098 
00099             foreGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _foreColor ), 0, 0, foreColorImg.Width, foreColorImg.Height );
00100             fillGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _fillColor ), 0, 0, fillColorImg.Width, fillColorImg.Height );
00101             labelForeGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelForeColor ), 0, 0, labelForeColorImg.Width, labelForeColorImg.Height );
00102             labelFillGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelFillColor ), 0, 0, labelFillColorImg.Width, labelFillColorImg.Height );
00103 
00104             foreColorButton.Image = foreColorImg;
00105             fillColorButton.Image = fillColorImg;
00106             labelForeColorButton.Image = labelForeColorImg;
00107             labelFillColorButton.Image = labelFillColorImg;
00108 
00109             lineWidthUpDown.Value = (decimal) ml.LayerPen.Width;
00110 
00111             foreGr.Dispose();
00112             fillGr.Dispose();
00113             labelForeGr.Dispose();
00114             labelFillGr.Dispose();
00115         }
00116 
<a name="l00120"></a><a class="code" href="classExampleApplication_1_1PropertiesForm.html#ExampleApplication_1_1PropertiesFormb0">00120</a>         <span class="keyword">protected</span> override <span class="keywordtype">void</span> <a class="code" href="classExampleApplication_1_1PropertiesForm.html#ExampleApplication_1_1PropertiesFormb0">Dispose</a>( <span class="keywordtype">bool</span> disposing )
00121         {
00122             <span class="keywordflow">if</span>( disposing )
00123             {
00124                 <span class="keywordflow">if</span>(components != null)
00125                 {
00126                     components.Dispose();
00127                 }
00128             }
00129             base.Dispose( disposing );
00130         }
00131 
00132 <span class="preprocessor">        #region Windows Form Designer generated code</span>
00137 <span class="preprocessor">        private void InitializeComponent()</span>
00138 <span class="preprocessor"></span>        {
00139             <span class="keyword">this</span>.colorDialog = <span class="keyword">new</span> System.Windows.Forms.ColorDialog();
00140             <span class="keyword">this</span>.okButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00141             <span class="keyword">this</span>.cancelButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00142             <span class="keyword">this</span>.groupBox1 = <span class="keyword">new</span> System.Windows.Forms.GroupBox();
00143             <span class="keyword">this</span>.FilenameLabel = <span class="keyword">new</span> System.Windows.Forms.Label();
00144             <span class="keyword">this</span>.groupBox2 = <span class="keyword">new</span> System.Windows.Forms.GroupBox();
00145             <span class="keyword">this</span>.featureOpacityTrackBar = <span class="keyword">new</span> System.Windows.Forms.TrackBar();
00146             <span class="keyword">this</span>.label2 = <span class="keyword">new</span> System.Windows.Forms.Label();
00147             <span class="keyword">this</span>.lineWidthUpDown = <span class="keyword">new</span> System.Windows.Forms.NumericUpDown();
00148             <span class="keyword">this</span>.label1 = <span class="keyword">new</span> System.Windows.Forms.Label();
00149             <span class="keyword">this</span>.fillColorButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00150             <span class="keyword">this</span>.foreColorButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00151             <span class="keyword">this</span>.groupBox3 = <span class="keyword">new</span> System.Windows.Forms.GroupBox();
00152             <span class="keyword">this</span>.labelFillColorButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00153             <span class="keyword">this</span>.showLabelsBGCheckBox = <span class="keyword">new</span> System.Windows.Forms.CheckBox();
00154             <span class="keyword">this</span>.fontOpacityTrackBar = <span class="keyword">new</span> System.Windows.Forms.TrackBar();
00155             <span class="keyword">this</span>.label3 = <span class="keyword">new</span> System.Windows.Forms.Label();
00156             <span class="keyword">this</span>.labelForeColorButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00157             <span class="keyword">this</span>.labelFontButton = <span class="keyword">new</span> System.Windows.Forms.Button();
00158             <span class="keyword">this</span>.showLabelsCheckBox = <span class="keyword">new</span> System.Windows.Forms.CheckBox();
00159             <span class="keyword">this</span>.labelSourceComboBox = <span class="keyword">new</span> System.Windows.Forms.ComboBox();
00160             <span class="keyword">this</span>.fontDialog = <span class="keyword">new</span> System.Windows.Forms.FontDialog();
00161             <span class="keyword">this</span>.groupBox1.SuspendLayout();
00162             <span class="keyword">this</span>.groupBox2.SuspendLayout();
00163             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.featureOpacityTrackBar)).BeginInit();
00164             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.lineWidthUpDown)).BeginInit();
00165             <span class="keyword">this</span>.groupBox3.SuspendLayout();
00166             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.fontOpacityTrackBar)).BeginInit();
00167             <span class="keyword">this</span>.SuspendLayout();
00168             <span class="comment">// </span>
00169             <span class="comment">// colorDialog</span>
00170             <span class="comment">// </span>
00171             <span class="keyword">this</span>.colorDialog.AnyColor = <span class="keyword">true</span>;
00172             <span class="keyword">this</span>.colorDialog.FullOpen = <span class="keyword">true</span>;
00173             <span class="comment">// </span>
00174             <span class="comment">// okButton</span>
00175             <span class="comment">// </span>
00176             <span class="keyword">this</span>.okButton.Location = <span class="keyword">new</span> System.Drawing.Point(136, 428);
00177             <span class="keyword">this</span>.okButton.Name = <span class="stringliteral">"okButton"</span>;
00178             <span class="keyword">this</span>.okButton.TabIndex = 5;
00179             <span class="keyword">this</span>.okButton.Text = <span class="stringliteral">"Ok"</span>;
00180             <span class="keyword">this</span>.okButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.okButton_Click);
00181             <span class="comment">// </span>
00182             <span class="comment">// cancelButton</span>
00183             <span class="comment">// </span>
00184             <span class="keyword">this</span>.cancelButton.Location = <span class="keyword">new</span> System.Drawing.Point(220, 428);
00185             <span class="keyword">this</span>.cancelButton.Name = <span class="stringliteral">"cancelButton"</span>;
00186             <span class="keyword">this</span>.cancelButton.TabIndex = 6;
00187             <span class="keyword">this</span>.cancelButton.Text = <span class="stringliteral">"Cancel"</span>;
00188             <span class="keyword">this</span>.cancelButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.cancelButton_Click);
00189             <span class="comment">// </span>
00190             <span class="comment">// groupBox1</span>
00191             <span class="comment">// </span>
00192             <span class="keyword">this</span>.groupBox1.Controls.AddRange(<span class="keyword">new</span> System.Windows.Forms.Control[] {
00193                                                                                     <span class="keyword">this</span>.FilenameLabel});
00194             <span class="keyword">this</span>.groupBox1.Location = <span class="keyword">new</span> System.Drawing.Point(8, 8);
00195             <span class="keyword">this</span>.groupBox1.Name = <span class="stringliteral">"groupBox1"</span>;
00196             <span class="keyword">this</span>.groupBox1.Size = <span class="keyword">new</span> System.Drawing.Size(292, 52);
00197             <span class="keyword">this</span>.groupBox1.TabIndex = 9;
00198             <span class="keyword">this</span>.groupBox1.TabStop = <span class="keyword">false</span>;
00199             <span class="keyword">this</span>.groupBox1.Text = <span class="stringliteral">"Filename"</span>;
00200             <span class="comment">// </span>
00201             <span class="comment">// FilenameLabel</span>
00202             <span class="comment">// </span>
00203             <span class="keyword">this</span>.FilenameLabel.Location = <span class="keyword">new</span> System.Drawing.Point(4, 16);
00204             <span class="keyword">this</span>.FilenameLabel.Name = <span class="stringliteral">"FilenameLabel"</span>;
00205             <span class="keyword">this</span>.FilenameLabel.Size = <span class="keyword">new</span> System.Drawing.Size(284, 32);
00206             <span class="keyword">this</span>.FilenameLabel.TabIndex = 0;
00207             <span class="comment">// </span>
00208             <span class="comment">// groupBox2</span>
00209             <span class="comment">// </span>
00210             <span class="keyword">this</span>.groupBox2.Controls.AddRange(<span class="keyword">new</span> System.Windows.Forms.Control[] {
00211                                                                                     <span class="keyword">this</span>.featureOpacityTrackBar,
00212                                                                                     <span class="keyword">this</span>.label2,
00213                                                                                     <span class="keyword">this</span>.lineWidthUpDown,
00214                                                                                     <span class="keyword">this</span>.label1,
00215                                                                                     <span class="keyword">this</span>.fillColorButton,
00216                                                                                     <span class="keyword">this</span>.foreColorButton});
00217             <span class="keyword">this</span>.groupBox2.Location = <span class="keyword">new</span> System.Drawing.Point(8, 68);
00218             <span class="keyword">this</span>.groupBox2.Name = <span class="stringliteral">"groupBox2"</span>;
00219             <span class="keyword">this</span>.groupBox2.Size = <span class="keyword">new</span> System.Drawing.Size(292, 144);
00220             <span class="keyword">this</span>.groupBox2.TabIndex = 10;
00221             <span class="keyword">this</span>.groupBox2.TabStop = <span class="keyword">false</span>;
00222             <span class="keyword">this</span>.groupBox2.Text = <span class="stringliteral">"Features"</span>;
00223             <span class="comment">// </span>
00224             <span class="comment">// featureOpacityTrackBar</span>
00225             <span class="comment">// </span>
00226             <span class="keyword">this</span>.featureOpacityTrackBar.LargeChange = 20;
00227             <span class="keyword">this</span>.featureOpacityTrackBar.Location = <span class="keyword">new</span> System.Drawing.Point(68, 88);
00228             <span class="keyword">this</span>.featureOpacityTrackBar.Maximum = 255;
00229             <span class="keyword">this</span>.featureOpacityTrackBar.Name = <span class="stringliteral">"featureOpacityTrackBar"</span>;
00230             <span class="keyword">this</span>.featureOpacityTrackBar.Size = <span class="keyword">new</span> System.Drawing.Size(216, 42);
00231             <span class="keyword">this</span>.featureOpacityTrackBar.TabIndex = 10;
00232             <span class="keyword">this</span>.featureOpacityTrackBar.TickFrequency = 20;
00233             <span class="keyword">this</span>.featureOpacityTrackBar.Value = 255;
00234             <span class="keyword">this</span>.featureOpacityTrackBar.Scroll += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.featureOpacityTrackBar_Scroll);
00235             <span class="comment">// </span>
00236             <span class="comment">// label2</span>
00237             <span class="comment">// </span>
00238             <span class="keyword">this</span>.label2.Location = <span class="keyword">new</span> System.Drawing.Point(8, 92);
00239             <span class="keyword">this</span>.label2.Name = <span class="stringliteral">"label2"</span>;
00240             <span class="keyword">this</span>.label2.Size = <span class="keyword">new</span> System.Drawing.Size(52, 16);
00241             <span class="keyword">this</span>.label2.TabIndex = 9;
00242             <span class="keyword">this</span>.label2.Text = <span class="stringliteral">"Opacity:"</span>;
00243             <span class="comment">// </span>
00244             <span class="comment">// lineWidthUpDown</span>
00245             <span class="comment">// </span>
00246             <span class="keyword">this</span>.lineWidthUpDown.Location = <span class="keyword">new</span> System.Drawing.Point(148, 56);
00247             <span class="keyword">this</span>.lineWidthUpDown.Maximum = <span class="keyword">new</span> System.Decimal(<span class="keyword">new</span> <span class="keywordtype">int</span>[] {
00248                                                                             50,
00249                                                                             0,
00250                                                                             0,
00251                                                                             0});
00252             <span class="keyword">this</span>.lineWidthUpDown.Name = <span class="stringliteral">"lineWidthUpDown"</span>;
00253             <span class="keyword">this</span>.lineWidthUpDown.Size = <span class="keyword">new</span> System.Drawing.Size(44, 20);
00254             <span class="keyword">this</span>.lineWidthUpDown.TabIndex = 8;
00255             <span class="keyword">this</span>.lineWidthUpDown.Value = <span class="keyword">new</span> System.Decimal(<span class="keyword">new</span> <span class="keywordtype">int</span>[] {
00256                                                                           1,
00257                                                                           0,
00258                                                                           0,
00259                                                                           0});
00260             <span class="keyword">this</span>.lineWidthUpDown.ValueChanged += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.lineWidthUpDown_ValueChanged);
00261             <span class="comment">// </span>
00262             <span class="comment">// label1</span>
00263             <span class="comment">// </span>
00264             <span class="keyword">this</span>.label1.Location = <span class="keyword">new</span> System.Drawing.Point(8, 60);
00265             <span class="keyword">this</span>.label1.Name = <span class="stringliteral">"label1"</span>;
00266             <span class="keyword">this</span>.label1.Size = <span class="keyword">new</span> System.Drawing.Size(120, 16);
00267             <span class="keyword">this</span>.label1.TabIndex = 7;
00268             <span class="keyword">this</span>.label1.Text = <span class="stringliteral">"Line Width / Point Size"</span>;
00269             <span class="comment">// </span>
00270             <span class="comment">// fillColorButton</span>
00271             <span class="comment">// </span>
00272             <span class="keyword">this</span>.fillColorButton.ImageAlign = System.Drawing.ContentAlignment.MiddleRight;
00273             <span class="keyword">this</span>.fillColorButton.Location = <span class="keyword">new</span> System.Drawing.Point(156, 24);
00274             <span class="keyword">this</span>.fillColorButton.Name = <span class="stringliteral">"fillColorButton"</span>;
00275             <span class="keyword">this</span>.fillColorButton.Size = <span class="keyword">new</span> System.Drawing.Size(128, 24);
00276             <span class="keyword">this</span>.fillColorButton.TabIndex = 6;
00277             <span class="keyword">this</span>.fillColorButton.Text = <span class="stringliteral">"Fill Color"</span>;
00278             <span class="keyword">this</span>.fillColorButton.TextAlign = System.Drawing.ContentAlignment.MiddleLeft;
00279             <span class="keyword">this</span>.fillColorButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.fillColorButton_Click);
00280             <span class="comment">// </span>
00281             <span class="comment">// foreColorButton</span>
00282             <span class="comment">// </span>
00283             <span class="keyword">this</span>.foreColorButton.ImageAlign = System.Drawing.ContentAlignment.MiddleRight;
00284             <span class="keyword">this</span>.foreColorButton.Location = <span class="keyword">new</span> System.Drawing.Point(12, 24);
00285             <span class="keyword">this</span>.foreColorButton.Name = <span class="stringliteral">"foreColorButton"</span>;
00286             <span class="keyword">this</span>.foreColorButton.Size = <span class="keyword">new</span> System.Drawing.Size(128, 24);
00287             <span class="keyword">this</span>.foreColorButton.TabIndex = 5;
00288             <span class="keyword">this</span>.foreColorButton.Text = <span class="stringliteral">"Fore Color"</span>;
00289             <span class="keyword">this</span>.foreColorButton.TextAlign = System.Drawing.ContentAlignment.MiddleLeft;
00290             <span class="keyword">this</span>.foreColorButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.foreColorButton_Click);
00291             <span class="comment">// </span>
00292             <span class="comment">// groupBox3</span>
00293             <span class="comment">// </span>
00294             <span class="keyword">this</span>.groupBox3.Controls.AddRange(<span class="keyword">new</span> System.Windows.Forms.Control[] {
00295                                                                                     <span class="keyword">this</span>.labelFillColorButton,
00296                                                                                     <span class="keyword">this</span>.showLabelsBGCheckBox,
00297                                                                                     <span class="keyword">this</span>.fontOpacityTrackBar,
00298                                                                                     <span class="keyword">this</span>.label3,
00299                                                                                     <span class="keyword">this</span>.labelForeColorButton,
00300                                                                                     <span class="keyword">this</span>.labelFontButton,
00301                                                                                     <span class="keyword">this</span>.showLabelsCheckBox,
00302                                                                                     <span class="keyword">this</span>.labelSourceComboBox});
00303             <span class="keyword">this</span>.groupBox3.Font = <span class="keyword">new</span> System.Drawing.Font(<span class="stringliteral">"Microsoft Sans Serif"</span>, 8.25F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((System.Byte)(0)));
00304             <span class="keyword">this</span>.groupBox3.Location = <span class="keyword">new</span> System.Drawing.Point(8, 220);
00305             <span class="keyword">this</span>.groupBox3.Name = <span class="stringliteral">"groupBox3"</span>;
00306             <span class="keyword">this</span>.groupBox3.Size = <span class="keyword">new</span> System.Drawing.Size(292, 192);
00307             <span class="keyword">this</span>.groupBox3.TabIndex = 11;
00308             <span class="keyword">this</span>.groupBox3.TabStop = <span class="keyword">false</span>;
00309             <span class="keyword">this</span>.groupBox3.Text = <span class="stringliteral">"Labels"</span>;
00310             <span class="comment">// </span>
00311             <span class="comment">// labelFillColorButton</span>
00312             <span class="comment">// </span>
00313             <span class="keyword">this</span>.labelFillColorButton.ImageAlign = System.Drawing.ContentAlignment.MiddleRight;
00314             <span class="keyword">this</span>.labelFillColorButton.Location = <span class="keyword">new</span> System.Drawing.Point(148, 104);
00315             <span class="keyword">this</span>.labelFillColorButton.Name = <span class="stringliteral">"labelFillColorButton"</span>;
00316             <span class="keyword">this</span>.labelFillColorButton.Size = <span class="keyword">new</span> System.Drawing.Size(128, 24);
00317             <span class="keyword">this</span>.labelFillColorButton.TabIndex = 16;
00318             <span class="keyword">this</span>.labelFillColorButton.Text = <span class="stringliteral">"Fill Color"</span>;
00319             <span class="keyword">this</span>.labelFillColorButton.TextAlign = System.Drawing.ContentAlignment.MiddleLeft;
00320             <span class="keyword">this</span>.labelFillColorButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.labelFillColorButton_Click);
00321             <span class="comment">// </span>
00322             <span class="comment">// showLabelsBGCheckBox</span>
00323             <span class="comment">// </span>
00324             <span class="keyword">this</span>.showLabelsBGCheckBox.Location = <span class="keyword">new</span> System.Drawing.Point(132, 28);
00325             <span class="keyword">this</span>.showLabelsBGCheckBox.Name = <span class="stringliteral">"showLabelsBGCheckBox"</span>;
00326             <span class="keyword">this</span>.showLabelsBGCheckBox.Size = <span class="keyword">new</span> System.Drawing.Size(152, 24);
00327             <span class="keyword">this</span>.showLabelsBGCheckBox.TabIndex = 15;
00328             <span class="keyword">this</span>.showLabelsBGCheckBox.Text = <span class="stringliteral">"Show Label Background"</span>;
00329             <span class="comment">// </span>
00330             <span class="comment">// fontOpacityTrackBar</span>
00331             <span class="comment">// </span>
00332             <span class="keyword">this</span>.fontOpacityTrackBar.LargeChange = 20;
00333             <span class="keyword">this</span>.fontOpacityTrackBar.Location = <span class="keyword">new</span> System.Drawing.Point(68, 140);
00334             <span class="keyword">this</span>.fontOpacityTrackBar.Maximum = 255;
00335             <span class="keyword">this</span>.fontOpacityTrackBar.Name = <span class="stringliteral">"fontOpacityTrackBar"</span>;
00336             <span class="keyword">this</span>.fontOpacityTrackBar.Size = <span class="keyword">new</span> System.Drawing.Size(216, 42);
00337             <span class="keyword">this</span>.fontOpacityTrackBar.TabIndex = 14;
00338             <span class="keyword">this</span>.fontOpacityTrackBar.TickFrequency = 20;
00339             <span class="keyword">this</span>.fontOpacityTrackBar.Value = 255;
00340             <span class="keyword">this</span>.fontOpacityTrackBar.Scroll += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.fontOpacityTrackBar_Scroll);
00341             <span class="comment">// </span>
00342             <span class="comment">// label3</span>
00343             <span class="comment">// </span>
00344             <span class="keyword">this</span>.label3.Location = <span class="keyword">new</span> System.Drawing.Point(8, 144);
00345             <span class="keyword">this</span>.label3.Name = <span class="stringliteral">"label3"</span>;
00346             <span class="keyword">this</span>.label3.Size = <span class="keyword">new</span> System.Drawing.Size(52, 16);
00347             <span class="keyword">this</span>.label3.TabIndex = 13;
00348             <span class="keyword">this</span>.label3.Text = <span class="stringliteral">"Opacity:"</span>;
00349             <span class="comment">// </span>
00350             <span class="comment">// labelForeColorButton</span>
00351             <span class="comment">// </span>
00352             <span class="keyword">this</span>.labelForeColorButton.ImageAlign = System.Drawing.ContentAlignment.MiddleRight;
00353             <span class="keyword">this</span>.labelForeColorButton.Location = <span class="keyword">new</span> System.Drawing.Point(12, 104);
00354             <span class="keyword">this</span>.labelForeColorButton.Name = <span class="stringliteral">"labelForeColorButton"</span>;
00355             <span class="keyword">this</span>.labelForeColorButton.Size = <span class="keyword">new</span> System.Drawing.Size(128, 24);
00356             <span class="keyword">this</span>.labelForeColorButton.TabIndex = 12;
00357             <span class="keyword">this</span>.labelForeColorButton.Text = <span class="stringliteral">"Fore Color"</span>;
00358             <span class="keyword">this</span>.labelForeColorButton.TextAlign = System.Drawing.ContentAlignment.MiddleLeft;
00359             <span class="keyword">this</span>.labelForeColorButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.labelForeColorButton_Click);
00360             <span class="comment">// </span>
00361             <span class="comment">// labelFontButton</span>
00362             <span class="comment">// </span>
00363             <span class="keyword">this</span>.labelFontButton.Location = <span class="keyword">new</span> System.Drawing.Point(12, 72);
00364             <span class="keyword">this</span>.labelFontButton.Name = <span class="stringliteral">"labelFontButton"</span>;
00365             <span class="keyword">this</span>.labelFontButton.Size = <span class="keyword">new</span> System.Drawing.Size(128, 24);
00366             <span class="keyword">this</span>.labelFontButton.TabIndex = 11;
00367             <span class="keyword">this</span>.labelFontButton.Text = <span class="stringliteral">"Label Font"</span>;
00368             <span class="keyword">this</span>.labelFontButton.Click += <span class="keyword">new</span> System.EventHandler(<span class="keyword">this</span>.labelFontButton_Click);
00369             <span class="comment">// </span>
00370             <span class="comment">// showLabelsCheckBox</span>
00371             <span class="comment">// </span>
00372             <span class="keyword">this</span>.showLabelsCheckBox.Location = <span class="keyword">new</span> System.Drawing.Point(12, 28);
00373             <span class="keyword">this</span>.showLabelsCheckBox.Name = <span class="stringliteral">"showLabelsCheckBox"</span>;
00374             <span class="keyword">this</span>.showLabelsCheckBox.TabIndex = 10;
00375             <span class="keyword">this</span>.showLabelsCheckBox.Text = <span class="stringliteral">"Show Labels"</span>;
00376             <span class="comment">// </span>
00377             <span class="comment">// labelSourceComboBox</span>
00378             <span class="comment">// </span>
00379             <span class="keyword">this</span>.labelSourceComboBox.Location = <span class="keyword">new</span> System.Drawing.Point(148, 72);
00380             <span class="keyword">this</span>.labelSourceComboBox.Name = <span class="stringliteral">"labelSourceComboBox"</span>;
00381             <span class="keyword">this</span>.labelSourceComboBox.Size = <span class="keyword">new</span> System.Drawing.Size(132, 21);
00382             <span class="keyword">this</span>.labelSourceComboBox.TabIndex = 9;
00383             <span class="keyword">this</span>.labelSourceComboBox.Text = <span class="stringliteral">"Source Field"</span>;
00384             <span class="comment">// </span>
00385             <span class="comment">// PropertiesForm</span>
00386             <span class="comment">// </span>
00387             <span class="keyword">this</span>.AutoScaleBaseSize = <span class="keyword">new</span> System.Drawing.Size(5, 13);
00388             <span class="keyword">this</span>.ClientSize = <span class="keyword">new</span> System.Drawing.Size(306, 458);
00389             <span class="keyword">this</span>.Controls.AddRange(<span class="keyword">new</span> System.Windows.Forms.Control[] {
00390                                                                           <span class="keyword">this</span>.groupBox3,
00391                                                                           <span class="keyword">this</span>.groupBox2,
00392                                                                           <span class="keyword">this</span>.groupBox1,
00393                                                                           <span class="keyword">this</span>.cancelButton,
00394                                                                           <span class="keyword">this</span>.okButton});
00395             <span class="keyword">this</span>.FormBorderStyle = System.Windows.Forms.FormBorderStyle.FixedToolWindow;
00396             <span class="keyword">this</span>.MaximizeBox = <span class="keyword">false</span>;
00397             <span class="keyword">this</span>.MinimizeBox = <span class="keyword">false</span>;
00398             <span class="keyword">this</span>.Name = <span class="stringliteral">"PropertiesForm"</span>;
00399             <span class="keyword">this</span>.ShowInTaskbar = <span class="keyword">false</span>;
00400             <span class="keyword">this</span>.StartPosition = System.Windows.Forms.FormStartPosition.CenterParent;
00401             <span class="keyword">this</span>.Text = <span class="stringliteral">"Layer Properties"</span>;
00402             <span class="keyword">this</span>.TopMost = <span class="keyword">true</span>;
00403             <span class="keyword">this</span>.groupBox1.ResumeLayout(<span class="keyword">false</span>);
00404             <span class="keyword">this</span>.groupBox2.ResumeLayout(<span class="keyword">false</span>);
00405             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.featureOpacityTrackBar)).EndInit();
00406             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.lineWidthUpDown)).EndInit();
00407             <span class="keyword">this</span>.groupBox3.ResumeLayout(<span class="keyword">false</span>);
00408             ((System.ComponentModel.ISupportInitialize)(<span class="keyword">this</span>.fontOpacityTrackBar)).EndInit();
00409             <span class="keyword">this</span>.ResumeLayout(<span class="keyword">false</span>);
00410 
00411         }
00412 <span class="preprocessor">        #endregion</span>
00413 <span class="preprocessor"></span>
00414         <span class="keyword">private</span> <span class="keywordtype">void</span> foreColorButton_Click(object sender, System.EventArgs e)
00415         {
00416             colorDialog.Color = _foreColor;
00417             
00418             <span class="keywordflow">if</span> ( colorDialog.ShowDialog() == DialogResult.OK )
00419             {
00420                 _foreColor = Color.FromArgb( _featureAlpha, colorDialog.Color );
00421                 
00422                 Bitmap foreBmp = <span class="keyword">new</span> Bitmap( foreColorButton.Image.Width, foreColorButton.Image.Height );
00423                 Graphics foreGr = Graphics.FromImage( foreBmp );
00424                 foreGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _foreColor ), 0, 0, foreBmp.Width, foreBmp.Height );
00425 
00426                 foreColorButton.Image = foreBmp;
00427 
00428                 foreGr.Dispose();
00429             }
00430         }
00431 
00432         <span class="keyword">private</span> <span class="keywordtype">void</span> fillColorButton_Click(object sender, System.EventArgs e)
00433         {
00434             colorDialog.Color = _fillColor;
00435             
00436             <span class="keywordflow">if</span> ( colorDialog.ShowDialog() == DialogResult.OK )
00437             {
00438                 _fillColor = Color.FromArgb( _featureAlpha, colorDialog.Color );
00439                 _fillBrush = <span class="keyword">new</span> SolidBrush( _fillColor );
00440 
00441                 Bitmap fillBmp = <span class="keyword">new</span> Bitmap( fillColorButton.Image.Width, fillColorButton.Image.Height );
00442                 Graphics fillGr = Graphics.FromImage( fillBmp );
00443                 fillGr.FillRectangle( _fillBrush, 0, 0, fillBmp.Width, fillBmp.Height );
00444 
00445                 fillColorButton.Image = fillBmp;
00446 
00447                 fillGr.Dispose();
00448             }
00449         }
00450 
00451         <span class="keyword">private</span> <span class="keywordtype">void</span> labelFontButton_Click(object sender, System.EventArgs e)
00452         {
00453             <span class="keywordflow">if</span> ( fontDialog.ShowDialog() == DialogResult.OK )
00454             {
00455                 _labelFont = fontDialog.Font;
00456                 labelFontButton.Font = _labelFont;
00457             }
00458         }
00459 
00460         <span class="keyword">private</span> <span class="keywordtype">void</span> labelForeColorButton_Click(object sender, System.EventArgs e)
00461         {
00462             colorDialog.Color = _labelForeColor;
00463 
00464             <span class="keywordflow">if</span> ( colorDialog.ShowDialog() == DialogResult.OK )
00465             {
00466                 _labelForeColor = Color.FromArgb( _labelAlpha, colorDialog.Color );
00467                 
00468                 Bitmap labelBmp = <span class="keyword">new</span> Bitmap( labelForeColorButton.Image.Width, labelForeColorButton.Image.Height );
00469                 Graphics labelGr = Graphics.FromImage( labelBmp );
00470                 labelGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelForeColor ), 0, 0, labelBmp.Width, labelBmp.Height );
00471 
00472                 labelForeColorButton.Image = labelBmp;
00473 
00474                 labelGr.Dispose();
00475             }
00476         }
00477 
00478         <span class="keyword">private</span> <span class="keywordtype">void</span> labelFillColorButton_Click(object sender, System.EventArgs e)
00479         {
00480             colorDialog.Color = _labelFillColor;
00481 
00482             <span class="keywordflow">if</span> ( colorDialog.ShowDialog() == DialogResult.OK )
00483             {
00484                 _labelFillColor = Color.FromArgb( _labelAlpha, colorDialog.Color );
00485                 
00486                 Bitmap labelBmp = <span class="keyword">new</span> Bitmap( labelFillColorButton.Image.Width, labelFillColorButton.Image.Height );
00487                 Graphics labelGr = Graphics.FromImage( labelBmp );
00488                 labelGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelFillColor ), 0, 0, labelBmp.Width, labelBmp.Height );
00489 
00490                 labelFillColorButton.Image = labelBmp;
00491 
00492                 labelGr.Dispose();
00493             }
00494         }
00495         
00496         <span class="keyword">private</span> <span class="keywordtype">void</span> okButton_Click(object sender, System.EventArgs e)
00497         {
00498             _ml.LayerPen = <span class="keyword">new</span> Pen( Color.FromArgb( _featureAlpha, _foreColor ), _penWidth );
00499             _ml.LayerBrush = <span class="keyword">new</span> SolidBrush( Color.FromArgb( _featureAlpha, _fillColor ) );
00500             _ml.Labels = showLabelsCheckBox.Checked;
00501             _ml.LabelBackground = showLabelsBGCheckBox.Checked;
00502             _ml.LabelSourceField = labelSourceComboBox.SelectedIndex;
00503             _ml.LabelForeColor = Color.FromArgb( _labelAlpha, _labelForeColor );
00504             _ml.LabelFillColor = Color.FromArgb( _labelAlpha, _labelFillColor );
00505             _ml.LabelFont = _labelFont;
00506             
00507             <span class="keyword">this</span>.DialogResult = DialogResult.OK;
00508         }
00509 
00510         <span class="keyword">private</span> <span class="keywordtype">void</span> cancelButton_Click(object sender, System.EventArgs e)
00511         {
00512             <span class="keyword">this</span>.DialogResult = DialogResult.Cancel;
00513         }
00514 
00515         <span class="keyword">private</span> <span class="keywordtype">void</span> lineWidthUpDown_ValueChanged(object sender, System.EventArgs e)
00516         {
00517             _penWidth = (<span class="keywordtype">float</span>) lineWidthUpDown.Value;
00518         }
00519 
00520         <span class="keyword">private</span> <span class="keywordtype">void</span> featureOpacityTrackBar_Scroll(object sender, System.EventArgs e)
00521         {
00522             _featureAlpha = featureOpacityTrackBar.Value;
00523 
00524             _foreColor = Color.FromArgb( _featureAlpha, _foreColor );
00525             _fillColor = Color.FromArgb( _featureAlpha, _fillColor );
00526                 
00527             Bitmap foreBmp = <span class="keyword">new</span> Bitmap( foreColorButton.Image.Width, foreColorButton.Image.Height );
00528             Graphics foreGr = Graphics.FromImage( foreBmp );
00529             foreGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _foreColor ), 0, 0, foreBmp.Width, foreBmp.Height );
00530 
00531             foreColorButton.Image = foreBmp;
00532 
00533             foreGr.Dispose();
00534             
00535             _fillColor = Color.FromArgb( _featureAlpha, _fillColor );
00536             _fillBrush = <span class="keyword">new</span> SolidBrush( _fillColor );
00537 
00538             Bitmap fillBmp = <span class="keyword">new</span> Bitmap( fillColorButton.Image.Width, fillColorButton.Image.Height );
00539             Graphics fillGr = Graphics.FromImage( fillBmp );
00540             fillGr.FillRectangle( _fillBrush, 0, 0, fillBmp.Width, fillBmp.Height );
00541 
00542             fillColorButton.Image = fillBmp;
00543 
00544             fillGr.Dispose();       
00545         }
00546 
00547         <span class="keyword">private</span> <span class="keywordtype">void</span> fontOpacityTrackBar_Scroll(object sender, System.EventArgs e)
00548         {
00549             _labelAlpha = fontOpacityTrackBar.Value;
00550 
00551             _labelForeColor = Color.FromArgb( _labelAlpha, _labelForeColor );
00552             _labelFillColor = Color.FromArgb( _labelAlpha, _labelFillColor );
00553                 
00554             Bitmap labelBmp = <span class="keyword">new</span> Bitmap( labelForeColorButton.Image.Width, labelForeColorButton.Image.Height );
00555             Graphics labelGr = Graphics.FromImage( labelBmp );
00556             labelGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelForeColor ), 0, 0, labelBmp.Width, labelBmp.Height );
00557 
00558             labelForeColorButton.Image = labelBmp;
00559 
00560 
00561             labelBmp = <span class="keyword">new</span> Bitmap( labelFillColorButton.Image.Width, labelFillColorButton.Image.Height );
00562             labelGr = Graphics.FromImage( labelBmp );
00563             labelGr.FillRectangle( <span class="keyword">new</span> SolidBrush( _labelFillColor ), 0, 0, labelBmp.Width, labelBmp.Height );
00564 
00565             labelFillColorButton.Image = labelBmp;
00566 
00567             labelGr.Dispose();
00568         }
00569     }
00570 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue Feb 10 17:52:39 2004 for MapControl by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
